---
title: "DIY `laravel new` Command"
date: 2018-07-08T08:16:54+07:00
tags: [ "laravel", "bash", "composer", "code", "rant" ]
---

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ã‡∏±‡∏Å 1‚Äì2 ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏õ‡∏£‡∏∞‡∏´‡∏•‡∏≤‡∏î‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á

```bash
laravel new <project-name>
```

‡πÇ‡∏î‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏î‡∏±‡∏á‡∏Å‡∏•‡πà‡∏≤‡∏ß ‡∏à‡∏∞‡πÄ‡∏à‡∏≠ error ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ô‡∏µ‡πâ

```bash
$ laravel new test-project
Crafting application...
'composer' is not recognized as an internal or external command,
operable program or batch file.
Application ready! Build something amazing.
```

‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏î‡∏µ‡πÜ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏°‡∏±‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á composer ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ ‡∏Å‡πá‡∏á‡∏á‡∏™‡∏¥‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÅ‡∏ï‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ (laravel new ...) ‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏¢‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏•‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å composer ‡πÄ‡∏â‡∏¢‡πÜ ‡πÉ‡∏ô Git Bash ‡∏°‡∏±‡∏ô‡∏Å‡πá‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥ üòÖ

‡πÄ‡∏ä‡πá‡∏Ñ‡πÑ‡∏õ‡πÄ‡∏ä‡πá‡∏Ñ‡∏°‡∏≤ ‡πÄ‡∏•‡∏¢‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å 2-3 ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠

<!--more-->

1. ‡∏ú‡∏°‡πÉ‡∏ä‡πâ Git Bash ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ Command Prompt ‡∏´‡∏£‡∏∑‡∏≠ PowerShell
2. ‡∏ú‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Composer ‡πÅ‡∏ö‡∏ö [Command-line Installation](https://getcomposer.org/download/) ‡πÇ‡∏î‡∏¢‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå `composer.phar` ‡∏°‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß rename ‡πÄ‡∏õ‡πá‡∏ô `composer` ‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏±‡∏ô‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô Git Bash ‡πÅ‡∏ï‡πà‡∏£‡∏±‡∏ô‡∏ö‡∏ô Command Prompt ‡πÅ‡∏•‡∏∞ PowerShell ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÑ‡∏ü‡∏•‡πå executable ‡∏Ç‡∏≠‡∏á‡∏ß‡∏¥‡∏ô‡πÇ‡∏î‡∏ß‡∏™‡πå (`*.cmd`, `*.bat`, `*.exe`)
3. Laravel Installer ‡∏°‡∏±‡∏ô‡πÑ‡∏õ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à [Process](https://symfony.com/components/Process) ‡∏Ç‡∏≠‡∏á Symfony ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô OS ‡πÑ‡∏´‡∏ô ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ `DIRECTORY_SEPARATOR` ‡∏û‡∏≠‡∏°‡∏±‡∏ô‡πÄ‡∏à‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô backslash (`\\`) ‡∏Å‡πá‡πÄ‡∏•‡∏¢‡πÑ‡∏õ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `cmd.exe` ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏ö‡∏ô shell ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà ‡πÄ‡∏•‡∏¢‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `composer` ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠ 2 üòë

‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡πá‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Composer ‡πÉ‡∏´‡∏°‡πà ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏ô‡πÇ‡∏î‡∏ß‡∏™‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÉ‡∏´‡πâ‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö ‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå `composer.cmd` ‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏î‡πâ‡∏ß‡∏¢ ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô path ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö `composer.phar` ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Laravel Installer ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `composer` ‡∏à‡∏≤‡∏Å Command Prompt ‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏ß‡πà‡∏≤ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏ó‡∏≥ 555+ üôÉ

‡∏≠‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á project Laravel ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏∂‡∏á ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô documentation ‡∏Ç‡∏≠‡∏á Laravel ‡∏Ñ‡∏∑‡∏≠

```bash
composer create-project --prefer-dist laravel/laravel <project-name>
```

‡πÅ‡∏ï‡πà‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `laravel new ‚Ä¶` ‡∏ã‡∏∞‡∏ó‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏Ñ‡∏∑‡∏≠‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÉ‡∏´‡πâ‡∏î‡πâ‡∏ß‡∏¢ ‡πÅ‡∏Ñ‡πà‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏´‡∏•‡∏∞ ü§£) ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏≥‡∏Ñ‡∏≤‡∏ç ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `laravel new` ‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏≠‡∏á‡πÄ‡∏•‡∏¢‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡πá‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£ ‡∏•‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÉ‡∏ô Laravel Installer ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏î‡∏∑‡πâ‡∏≠‡πÜ ‡∏ô‡∏µ‡πà‡πÅ‡∏´‡∏•‡∏∞

```bash
#!/bin/bash

if [[ ! $# -eq 1 ]]; then
    printf "\n%s\n" "USAGE: `basename $0` <project-name>"
    exit 1;
fi

project="$1"
archive="/tmp/$$.zip"

curl --progress -o $archive http://cabinet.laravel.com/latest.zip
unzip -q -d "$project" $archive
rm $archive

cd "$project"

composer install --no-scripts
composer run-script post-root-package-install
composer run-script post-create-project-cmd
composer run-script post-autoload-dump
```

‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏ß‡πà‡∏≤ `laravel-new` ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô `~/bin/` ‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ä‡πâ‡∏Å‡πá‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Å‡πá‡∏à‡∏∞‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÜ ‡∏Ç‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö

```bash
laravel-new <project-name>
```

‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô shell script ‡∏ö‡πâ‡∏≤‡∏ô‡πÜ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ error ‡πÉ‡∏î‡πÜ ‡πÅ‡∏ï‡πà‡∏Å‡πá‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `laravel new ‚Ä¶` ‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£ üòÅ
